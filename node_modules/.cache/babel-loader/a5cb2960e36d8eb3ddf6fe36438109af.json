{"ast":null,"code":"import _toConsumableArray from \"C:/Users/luluf/OneDrive/Documents/Proximety/api-documentation-ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { GridFeatureModeConstant } from '../../../models/gridFeatureMode';\nimport { isEnterKey } from '../../../utils/keyboardUtils';\nimport { useGridApiEventHandler } from '../../utils/useGridApiEventHandler';\nimport { useGridApiMethod } from '../../utils/useGridApiMethod';\nimport { useGridLogger } from '../../utils/useGridLogger';\nimport { gridColumnLookupSelector } from '../columns/gridColumnsSelector';\nimport { gridSortedRowEntriesSelector, gridSortedRowIdsSelector, gridSortModelSelector } from './gridSortingSelector';\nimport { gridRowIdsSelector, gridRowTreeSelector } from '../rows';\nimport { useFirstRender } from '../../utils/useFirstRender';\nimport { useGridRegisterStrategyProcessor, GRID_DEFAULT_STRATEGY } from '../../core/strategyProcessing';\nimport { buildAggregatedSortingApplier, mergeStateWithSortModel, getNextGridSortDirection, sanitizeSortModel } from './gridSortingUtils';\nimport { useGridRegisterPipeProcessor } from '../../core/pipeProcessing';\nexport var sortingStateInitializer = function sortingStateInitializer(state, props) {\n  var _ref, _props$sortModel, _props$initialState, _props$initialState$s;\n\n  var sortModel = (_ref = (_props$sortModel = props.sortModel) != null ? _props$sortModel : (_props$initialState = props.initialState) == null ? void 0 : (_props$initialState$s = _props$initialState.sorting) == null ? void 0 : _props$initialState$s.sortModel) != null ? _ref : [];\n  return _extends({}, state, {\n    sorting: {\n      sortModel: sanitizeSortModel(sortModel, props.disableMultipleColumnsSorting),\n      sortedRows: []\n    }\n  });\n};\n/**\n * @requires useGridRows (event)\n * @requires useGridColumns (event)\n */\n\nexport var useGridSorting = function useGridSorting(apiRef, props) {\n  var _props$initialState3, _props$initialState3$;\n\n  var logger = useGridLogger(apiRef, 'useGridSorting');\n  apiRef.current.unstable_registerControlState({\n    stateId: 'sortModel',\n    propModel: props.sortModel,\n    propOnChange: props.onSortModelChange,\n    stateSelector: gridSortModelSelector,\n    changeEvent: 'sortModelChange'\n  });\n  var upsertSortModel = React.useCallback(function (field, sortItem) {\n    var sortModel = gridSortModelSelector(apiRef);\n    var existingIdx = sortModel.findIndex(function (c) {\n      return c.field === field;\n    });\n\n    var newSortModel = _toConsumableArray(sortModel);\n\n    if (existingIdx > -1) {\n      if (!sortItem) {\n        newSortModel.splice(existingIdx, 1);\n      } else {\n        newSortModel.splice(existingIdx, 1, sortItem);\n      }\n    } else {\n      newSortModel = [].concat(_toConsumableArray(sortModel), [sortItem]);\n    }\n\n    return newSortModel;\n  }, [apiRef]);\n  var createSortItem = React.useCallback(function (col, directionOverride) {\n    var _col$sortingOrder2;\n\n    var sortModel = gridSortModelSelector(apiRef);\n    var existing = sortModel.find(function (c) {\n      return c.field === col.field;\n    });\n\n    if (existing) {\n      var _col$sortingOrder;\n\n      var nextSort = directionOverride === undefined ? getNextGridSortDirection((_col$sortingOrder = col.sortingOrder) != null ? _col$sortingOrder : props.sortingOrder, existing.sort) : directionOverride;\n      return nextSort == null ? undefined : _extends({}, existing, {\n        sort: nextSort\n      });\n    }\n\n    return {\n      field: col.field,\n      sort: directionOverride === undefined ? getNextGridSortDirection((_col$sortingOrder2 = col.sortingOrder) != null ? _col$sortingOrder2 : props.sortingOrder) : directionOverride\n    };\n  }, [apiRef, props.sortingOrder]);\n  /**\n   * API METHODS\n   */\n\n  var applySorting = React.useCallback(function () {\n    apiRef.current.setState(function (state) {\n      if (props.sortingMode === GridFeatureModeConstant.server) {\n        logger.debug('Skipping sorting rows as sortingMode = server');\n        return _extends({}, state, {\n          sorting: _extends({}, state.sorting, {\n            sortedRows: gridRowIdsSelector(state, apiRef.current.instanceId)\n          })\n        });\n      }\n\n      var sortModel = gridSortModelSelector(state, apiRef.current.instanceId);\n      var sortRowList = buildAggregatedSortingApplier(sortModel, apiRef);\n      var sortedRows = apiRef.current.unstable_applyStrategyProcessor('sorting', {\n        sortRowList: sortRowList\n      });\n      return _extends({}, state, {\n        sorting: _extends({}, state.sorting, {\n          sortedRows: sortedRows\n        })\n      });\n    });\n    apiRef.current.publishEvent('sortedRowsSet');\n    apiRef.current.forceUpdate();\n  }, [apiRef, logger, props.sortingMode]);\n  var setSortModel = React.useCallback(function (model) {\n    var currentModel = gridSortModelSelector(apiRef);\n\n    if (currentModel !== model) {\n      logger.debug(\"Setting sort model\");\n      apiRef.current.setState(mergeStateWithSortModel(model, props.disableMultipleColumnsSorting));\n      apiRef.current.forceUpdate();\n      apiRef.current.applySorting();\n    }\n  }, [apiRef, logger, props.disableMultipleColumnsSorting]);\n  var sortColumn = React.useCallback(function (column, direction, allowMultipleSorting) {\n    if (!column.sortable) {\n      return;\n    }\n\n    var sortItem = createSortItem(column, direction);\n    var sortModel;\n\n    if (!allowMultipleSorting || props.disableMultipleColumnsSorting) {\n      sortModel = !sortItem ? [] : [sortItem];\n    } else {\n      sortModel = upsertSortModel(column.field, sortItem);\n    }\n\n    apiRef.current.setSortModel(sortModel);\n  }, [apiRef, upsertSortModel, createSortItem, props.disableMultipleColumnsSorting]);\n  var getSortModel = React.useCallback(function () {\n    return gridSortModelSelector(apiRef);\n  }, [apiRef]);\n  var getSortedRows = React.useCallback(function () {\n    var sortedRows = gridSortedRowEntriesSelector(apiRef);\n    return sortedRows.map(function (row) {\n      return row.model;\n    });\n  }, [apiRef]);\n  var getSortedRowIds = React.useCallback(function () {\n    return gridSortedRowIdsSelector(apiRef);\n  }, [apiRef]);\n  var getRowIndex = React.useCallback(function (id) {\n    return apiRef.current.getSortedRowIds().indexOf(id);\n  }, [apiRef]);\n  var getRowIdFromRowIndex = React.useCallback(function (index) {\n    return apiRef.current.getSortedRowIds()[index];\n  }, [apiRef]);\n  var sortApi = {\n    getSortModel: getSortModel,\n    getSortedRows: getSortedRows,\n    getSortedRowIds: getSortedRowIds,\n    getRowIndex: getRowIndex,\n    getRowIdFromRowIndex: getRowIdFromRowIndex,\n    setSortModel: setSortModel,\n    sortColumn: sortColumn,\n    applySorting: applySorting\n  };\n  useGridApiMethod(apiRef, sortApi, 'GridSortApi');\n  /**\n   * PRE-PROCESSING\n   */\n\n  var stateExportPreProcessing = React.useCallback(function (prevState, context) {\n    var _props$initialState2, _props$initialState2$;\n\n    var sortModelToExport = gridSortModelSelector(apiRef);\n    var shouldExportSortModel = // Always export if the `exportOnlyDirtyModels` property is activated\n    !context.exportOnlyDirtyModels || // Always export if the model is controlled\n    props.sortModel != null || // Always export if the model has been initialized\n    ((_props$initialState2 = props.initialState) == null ? void 0 : (_props$initialState2$ = _props$initialState2.sorting) == null ? void 0 : _props$initialState2$.sortModel) != null || // Export if the model is not empty\n    sortModelToExport.length > 0;\n\n    if (!shouldExportSortModel) {\n      return prevState;\n    }\n\n    return _extends({}, prevState, {\n      sorting: {\n        sortModel: sortModelToExport\n      }\n    });\n  }, [apiRef, props.sortModel, (_props$initialState3 = props.initialState) == null ? void 0 : (_props$initialState3$ = _props$initialState3.sorting) == null ? void 0 : _props$initialState3$.sortModel]);\n  var stateRestorePreProcessing = React.useCallback(function (params, context) {\n    var _context$stateToResto;\n\n    var sortModel = (_context$stateToResto = context.stateToRestore.sorting) == null ? void 0 : _context$stateToResto.sortModel;\n\n    if (sortModel == null) {\n      return params;\n    }\n\n    apiRef.current.setState(mergeStateWithSortModel(sortModel, props.disableMultipleColumnsSorting));\n    return _extends({}, params, {\n      callbacks: [].concat(_toConsumableArray(params.callbacks), [apiRef.current.applySorting])\n    });\n  }, [apiRef, props.disableMultipleColumnsSorting]);\n  var flatSortingMethod = React.useCallback(function (params) {\n    var rowTree = gridRowTreeSelector(apiRef);\n\n    if (!params.sortRowList) {\n      var bodyRowIds = [];\n      var _footerRowIds = [];\n      gridRowIdsSelector(apiRef).forEach(function (rowId) {\n        if (rowTree[rowId].isPinned) {\n          return;\n        }\n\n        if (rowTree[rowId].position === 'footer') {\n          _footerRowIds.push(rowId);\n        } else {\n          bodyRowIds.push(rowId);\n        }\n      });\n      return [].concat(bodyRowIds, _footerRowIds);\n    }\n\n    var bodyRows = [];\n    var footerRowIds = [];\n    Object.values(rowTree).forEach(function (rowNode) {\n      if (rowNode.isPinned) {\n        return;\n      }\n\n      if (rowNode.position === 'footer') {\n        footerRowIds.push(rowNode.id);\n      } else {\n        bodyRows.push(rowNode);\n      }\n    });\n    return [].concat(_toConsumableArray(params.sortRowList(bodyRows)), footerRowIds);\n  }, [apiRef]);\n  useGridRegisterPipeProcessor(apiRef, 'exportState', stateExportPreProcessing);\n  useGridRegisterPipeProcessor(apiRef, 'restoreState', stateRestorePreProcessing);\n  useGridRegisterStrategyProcessor(apiRef, GRID_DEFAULT_STRATEGY, 'sorting', flatSortingMethod);\n  /**\n   * EVENTS\n   */\n\n  var handleColumnHeaderClick = React.useCallback(function (_ref2, event) {\n    var colDef = _ref2.colDef;\n    var allowMultipleSorting = event.shiftKey || event.metaKey || event.ctrlKey;\n    sortColumn(colDef, undefined, allowMultipleSorting);\n  }, [sortColumn]);\n  var handleColumnHeaderKeyDown = React.useCallback(function (_ref3, event) {\n    var colDef = _ref3.colDef;\n\n    // Ctrl + Enter opens the column menu\n    if (isEnterKey(event.key) && !event.ctrlKey && !event.metaKey) {\n      sortColumn(colDef, undefined, event.shiftKey);\n    }\n  }, [sortColumn]);\n  var handleColumnsChange = React.useCallback(function () {\n    // When the columns change we check that the sorted columns are still part of the dataset\n    var sortModel = gridSortModelSelector(apiRef);\n    var latestColumns = gridColumnLookupSelector(apiRef);\n\n    if (sortModel.length > 0) {\n      var newModel = sortModel.filter(function (sortItem) {\n        return latestColumns[sortItem.field];\n      });\n\n      if (newModel.length < sortModel.length) {\n        apiRef.current.setSortModel(newModel);\n      }\n    }\n  }, [apiRef]);\n  var handleStrategyProcessorChange = React.useCallback(function (methodName) {\n    if (methodName === 'sorting') {\n      apiRef.current.applySorting();\n    }\n  }, [apiRef]);\n  useGridApiEventHandler(apiRef, 'columnHeaderClick', handleColumnHeaderClick);\n  useGridApiEventHandler(apiRef, 'columnHeaderKeyDown', handleColumnHeaderKeyDown);\n  useGridApiEventHandler(apiRef, 'rowsSet', apiRef.current.applySorting);\n  useGridApiEventHandler(apiRef, 'columnsChange', handleColumnsChange);\n  useGridApiEventHandler(apiRef, 'activeStrategyProcessorChange', handleStrategyProcessorChange);\n  /**\n   * 1ST RENDER\n   */\n\n  useFirstRender(function () {\n    apiRef.current.applySorting();\n  });\n  /**\n   * EFFECTS\n   */\n\n  React.useEffect(function () {\n    if (props.sortModel !== undefined) {\n      apiRef.current.setSortModel(props.sortModel);\n    }\n  }, [apiRef, props.sortModel]);\n};","map":{"version":3,"names":["_extends","React","GridFeatureModeConstant","isEnterKey","useGridApiEventHandler","useGridApiMethod","useGridLogger","gridColumnLookupSelector","gridSortedRowEntriesSelector","gridSortedRowIdsSelector","gridSortModelSelector","gridRowIdsSelector","gridRowTreeSelector","useFirstRender","useGridRegisterStrategyProcessor","GRID_DEFAULT_STRATEGY","buildAggregatedSortingApplier","mergeStateWithSortModel","getNextGridSortDirection","sanitizeSortModel","useGridRegisterPipeProcessor","sortingStateInitializer","state","props","_ref","_props$sortModel","_props$initialState","_props$initialState$s","sortModel","initialState","sorting","disableMultipleColumnsSorting","sortedRows","useGridSorting","apiRef","_props$initialState3","_props$initialState3$","logger","current","unstable_registerControlState","stateId","propModel","propOnChange","onSortModelChange","stateSelector","changeEvent","upsertSortModel","useCallback","field","sortItem","existingIdx","findIndex","c","newSortModel","splice","createSortItem","col","directionOverride","_col$sortingOrder2","existing","find","_col$sortingOrder","nextSort","undefined","sortingOrder","sort","applySorting","setState","sortingMode","server","debug","instanceId","sortRowList","unstable_applyStrategyProcessor","publishEvent","forceUpdate","setSortModel","model","currentModel","sortColumn","column","direction","allowMultipleSorting","sortable","getSortModel","getSortedRows","map","row","getSortedRowIds","getRowIndex","id","indexOf","getRowIdFromRowIndex","index","sortApi","stateExportPreProcessing","prevState","context","_props$initialState2","_props$initialState2$","sortModelToExport","shouldExportSortModel","exportOnlyDirtyModels","length","stateRestorePreProcessing","params","_context$stateToResto","stateToRestore","callbacks","flatSortingMethod","rowTree","bodyRowIds","footerRowIds","forEach","rowId","isPinned","position","push","bodyRows","Object","values","rowNode","handleColumnHeaderClick","event","colDef","shiftKey","metaKey","ctrlKey","handleColumnHeaderKeyDown","key","handleColumnsChange","latestColumns","newModel","filter","handleStrategyProcessorChange","methodName","useEffect"],"sources":["C:/Users/luluf/OneDrive/Documents/Proximety/api-documentation-ui/node_modules/@mui/x-data-grid/hooks/features/sorting/useGridSorting.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { GridFeatureModeConstant } from '../../../models/gridFeatureMode';\nimport { isEnterKey } from '../../../utils/keyboardUtils';\nimport { useGridApiEventHandler } from '../../utils/useGridApiEventHandler';\nimport { useGridApiMethod } from '../../utils/useGridApiMethod';\nimport { useGridLogger } from '../../utils/useGridLogger';\nimport { gridColumnLookupSelector } from '../columns/gridColumnsSelector';\nimport { gridSortedRowEntriesSelector, gridSortedRowIdsSelector, gridSortModelSelector } from './gridSortingSelector';\nimport { gridRowIdsSelector, gridRowTreeSelector } from '../rows';\nimport { useFirstRender } from '../../utils/useFirstRender';\nimport { useGridRegisterStrategyProcessor, GRID_DEFAULT_STRATEGY } from '../../core/strategyProcessing';\nimport { buildAggregatedSortingApplier, mergeStateWithSortModel, getNextGridSortDirection, sanitizeSortModel } from './gridSortingUtils';\nimport { useGridRegisterPipeProcessor } from '../../core/pipeProcessing';\nexport const sortingStateInitializer = (state, props) => {\n  var _ref, _props$sortModel, _props$initialState, _props$initialState$s;\n\n  const sortModel = (_ref = (_props$sortModel = props.sortModel) != null ? _props$sortModel : (_props$initialState = props.initialState) == null ? void 0 : (_props$initialState$s = _props$initialState.sorting) == null ? void 0 : _props$initialState$s.sortModel) != null ? _ref : [];\n  return _extends({}, state, {\n    sorting: {\n      sortModel: sanitizeSortModel(sortModel, props.disableMultipleColumnsSorting),\n      sortedRows: []\n    }\n  });\n};\n/**\n * @requires useGridRows (event)\n * @requires useGridColumns (event)\n */\n\nexport const useGridSorting = (apiRef, props) => {\n  var _props$initialState3, _props$initialState3$;\n\n  const logger = useGridLogger(apiRef, 'useGridSorting');\n  apiRef.current.unstable_registerControlState({\n    stateId: 'sortModel',\n    propModel: props.sortModel,\n    propOnChange: props.onSortModelChange,\n    stateSelector: gridSortModelSelector,\n    changeEvent: 'sortModelChange'\n  });\n  const upsertSortModel = React.useCallback((field, sortItem) => {\n    const sortModel = gridSortModelSelector(apiRef);\n    const existingIdx = sortModel.findIndex(c => c.field === field);\n    let newSortModel = [...sortModel];\n\n    if (existingIdx > -1) {\n      if (!sortItem) {\n        newSortModel.splice(existingIdx, 1);\n      } else {\n        newSortModel.splice(existingIdx, 1, sortItem);\n      }\n    } else {\n      newSortModel = [...sortModel, sortItem];\n    }\n\n    return newSortModel;\n  }, [apiRef]);\n  const createSortItem = React.useCallback((col, directionOverride) => {\n    var _col$sortingOrder2;\n\n    const sortModel = gridSortModelSelector(apiRef);\n    const existing = sortModel.find(c => c.field === col.field);\n\n    if (existing) {\n      var _col$sortingOrder;\n\n      const nextSort = directionOverride === undefined ? getNextGridSortDirection((_col$sortingOrder = col.sortingOrder) != null ? _col$sortingOrder : props.sortingOrder, existing.sort) : directionOverride;\n      return nextSort == null ? undefined : _extends({}, existing, {\n        sort: nextSort\n      });\n    }\n\n    return {\n      field: col.field,\n      sort: directionOverride === undefined ? getNextGridSortDirection((_col$sortingOrder2 = col.sortingOrder) != null ? _col$sortingOrder2 : props.sortingOrder) : directionOverride\n    };\n  }, [apiRef, props.sortingOrder]);\n  /**\n   * API METHODS\n   */\n\n  const applySorting = React.useCallback(() => {\n    apiRef.current.setState(state => {\n      if (props.sortingMode === GridFeatureModeConstant.server) {\n        logger.debug('Skipping sorting rows as sortingMode = server');\n        return _extends({}, state, {\n          sorting: _extends({}, state.sorting, {\n            sortedRows: gridRowIdsSelector(state, apiRef.current.instanceId)\n          })\n        });\n      }\n\n      const sortModel = gridSortModelSelector(state, apiRef.current.instanceId);\n      const sortRowList = buildAggregatedSortingApplier(sortModel, apiRef);\n      const sortedRows = apiRef.current.unstable_applyStrategyProcessor('sorting', {\n        sortRowList\n      });\n      return _extends({}, state, {\n        sorting: _extends({}, state.sorting, {\n          sortedRows\n        })\n      });\n    });\n    apiRef.current.publishEvent('sortedRowsSet');\n    apiRef.current.forceUpdate();\n  }, [apiRef, logger, props.sortingMode]);\n  const setSortModel = React.useCallback(model => {\n    const currentModel = gridSortModelSelector(apiRef);\n\n    if (currentModel !== model) {\n      logger.debug(`Setting sort model`);\n      apiRef.current.setState(mergeStateWithSortModel(model, props.disableMultipleColumnsSorting));\n      apiRef.current.forceUpdate();\n      apiRef.current.applySorting();\n    }\n  }, [apiRef, logger, props.disableMultipleColumnsSorting]);\n  const sortColumn = React.useCallback((column, direction, allowMultipleSorting) => {\n    if (!column.sortable) {\n      return;\n    }\n\n    const sortItem = createSortItem(column, direction);\n    let sortModel;\n\n    if (!allowMultipleSorting || props.disableMultipleColumnsSorting) {\n      sortModel = !sortItem ? [] : [sortItem];\n    } else {\n      sortModel = upsertSortModel(column.field, sortItem);\n    }\n\n    apiRef.current.setSortModel(sortModel);\n  }, [apiRef, upsertSortModel, createSortItem, props.disableMultipleColumnsSorting]);\n  const getSortModel = React.useCallback(() => gridSortModelSelector(apiRef), [apiRef]);\n  const getSortedRows = React.useCallback(() => {\n    const sortedRows = gridSortedRowEntriesSelector(apiRef);\n    return sortedRows.map(row => row.model);\n  }, [apiRef]);\n  const getSortedRowIds = React.useCallback(() => gridSortedRowIdsSelector(apiRef), [apiRef]);\n  const getRowIndex = React.useCallback(id => apiRef.current.getSortedRowIds().indexOf(id), [apiRef]);\n  const getRowIdFromRowIndex = React.useCallback(index => apiRef.current.getSortedRowIds()[index], [apiRef]);\n  const sortApi = {\n    getSortModel,\n    getSortedRows,\n    getSortedRowIds,\n    getRowIndex,\n    getRowIdFromRowIndex,\n    setSortModel,\n    sortColumn,\n    applySorting\n  };\n  useGridApiMethod(apiRef, sortApi, 'GridSortApi');\n  /**\n   * PRE-PROCESSING\n   */\n\n  const stateExportPreProcessing = React.useCallback((prevState, context) => {\n    var _props$initialState2, _props$initialState2$;\n\n    const sortModelToExport = gridSortModelSelector(apiRef);\n    const shouldExportSortModel = // Always export if the `exportOnlyDirtyModels` property is activated\n    !context.exportOnlyDirtyModels || // Always export if the model is controlled\n    props.sortModel != null || // Always export if the model has been initialized\n    ((_props$initialState2 = props.initialState) == null ? void 0 : (_props$initialState2$ = _props$initialState2.sorting) == null ? void 0 : _props$initialState2$.sortModel) != null || // Export if the model is not empty\n    sortModelToExport.length > 0;\n\n    if (!shouldExportSortModel) {\n      return prevState;\n    }\n\n    return _extends({}, prevState, {\n      sorting: {\n        sortModel: sortModelToExport\n      }\n    });\n  }, [apiRef, props.sortModel, (_props$initialState3 = props.initialState) == null ? void 0 : (_props$initialState3$ = _props$initialState3.sorting) == null ? void 0 : _props$initialState3$.sortModel]);\n  const stateRestorePreProcessing = React.useCallback((params, context) => {\n    var _context$stateToResto;\n\n    const sortModel = (_context$stateToResto = context.stateToRestore.sorting) == null ? void 0 : _context$stateToResto.sortModel;\n\n    if (sortModel == null) {\n      return params;\n    }\n\n    apiRef.current.setState(mergeStateWithSortModel(sortModel, props.disableMultipleColumnsSorting));\n    return _extends({}, params, {\n      callbacks: [...params.callbacks, apiRef.current.applySorting]\n    });\n  }, [apiRef, props.disableMultipleColumnsSorting]);\n  const flatSortingMethod = React.useCallback(params => {\n    const rowTree = gridRowTreeSelector(apiRef);\n\n    if (!params.sortRowList) {\n      const bodyRowIds = [];\n      const footerRowIds = [];\n      gridRowIdsSelector(apiRef).forEach(rowId => {\n        if (rowTree[rowId].isPinned) {\n          return;\n        }\n\n        if (rowTree[rowId].position === 'footer') {\n          footerRowIds.push(rowId);\n        } else {\n          bodyRowIds.push(rowId);\n        }\n      });\n      return [...bodyRowIds, ...footerRowIds];\n    }\n\n    const bodyRows = [];\n    const footerRowIds = [];\n    Object.values(rowTree).forEach(rowNode => {\n      if (rowNode.isPinned) {\n        return;\n      }\n\n      if (rowNode.position === 'footer') {\n        footerRowIds.push(rowNode.id);\n      } else {\n        bodyRows.push(rowNode);\n      }\n    });\n    return [...params.sortRowList(bodyRows), ...footerRowIds];\n  }, [apiRef]);\n  useGridRegisterPipeProcessor(apiRef, 'exportState', stateExportPreProcessing);\n  useGridRegisterPipeProcessor(apiRef, 'restoreState', stateRestorePreProcessing);\n  useGridRegisterStrategyProcessor(apiRef, GRID_DEFAULT_STRATEGY, 'sorting', flatSortingMethod);\n  /**\n   * EVENTS\n   */\n\n  const handleColumnHeaderClick = React.useCallback(({\n    colDef\n  }, event) => {\n    const allowMultipleSorting = event.shiftKey || event.metaKey || event.ctrlKey;\n    sortColumn(colDef, undefined, allowMultipleSorting);\n  }, [sortColumn]);\n  const handleColumnHeaderKeyDown = React.useCallback(({\n    colDef\n  }, event) => {\n    // Ctrl + Enter opens the column menu\n    if (isEnterKey(event.key) && !event.ctrlKey && !event.metaKey) {\n      sortColumn(colDef, undefined, event.shiftKey);\n    }\n  }, [sortColumn]);\n  const handleColumnsChange = React.useCallback(() => {\n    // When the columns change we check that the sorted columns are still part of the dataset\n    const sortModel = gridSortModelSelector(apiRef);\n    const latestColumns = gridColumnLookupSelector(apiRef);\n\n    if (sortModel.length > 0) {\n      const newModel = sortModel.filter(sortItem => latestColumns[sortItem.field]);\n\n      if (newModel.length < sortModel.length) {\n        apiRef.current.setSortModel(newModel);\n      }\n    }\n  }, [apiRef]);\n  const handleStrategyProcessorChange = React.useCallback(methodName => {\n    if (methodName === 'sorting') {\n      apiRef.current.applySorting();\n    }\n  }, [apiRef]);\n  useGridApiEventHandler(apiRef, 'columnHeaderClick', handleColumnHeaderClick);\n  useGridApiEventHandler(apiRef, 'columnHeaderKeyDown', handleColumnHeaderKeyDown);\n  useGridApiEventHandler(apiRef, 'rowsSet', apiRef.current.applySorting);\n  useGridApiEventHandler(apiRef, 'columnsChange', handleColumnsChange);\n  useGridApiEventHandler(apiRef, 'activeStrategyProcessorChange', handleStrategyProcessorChange);\n  /**\n   * 1ST RENDER\n   */\n\n  useFirstRender(() => {\n    apiRef.current.applySorting();\n  });\n  /**\n   * EFFECTS\n   */\n\n  React.useEffect(() => {\n    if (props.sortModel !== undefined) {\n      apiRef.current.setSortModel(props.sortModel);\n    }\n  }, [apiRef, props.sortModel]);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}