{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { buildWarning } from '../../../utils/warning';\nvar sortModelDisableMultiColumnsSortingWarning = buildWarning(['MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.', 'If you are using the community version of the `DataGrid`, this prop is always `true`.'], 'error');\nexport var sanitizeSortModel = function sanitizeSortModel(model, disableMultipleColumnsSorting) {\n  if (disableMultipleColumnsSorting && model.length > 1) {\n    sortModelDisableMultiColumnsSortingWarning();\n    return [model[0]];\n  }\n\n  return model;\n};\nexport var mergeStateWithSortModel = function mergeStateWithSortModel(sortModel, disableMultipleColumnsSorting) {\n  return function (state) {\n    return _extends({}, state, {\n      sorting: _extends({}, state.sorting, {\n        sortModel: sanitizeSortModel(sortModel, disableMultipleColumnsSorting)\n      })\n    });\n  };\n};\n\nvar isDesc = function isDesc(direction) {\n  return direction === 'desc';\n};\n/**\n * Transform an item of the sorting model into a method comparing two rows.\n * @param {GridSortItem} sortItem The sort item we want to apply.\n * @param {React.MutableRefObject<GridApiCommunity>} apiRef The API of the grid.\n * @returns {GridParsedSortItem | null} The parsed sort item. Returns `null` is the sort item is not valid.\n */\n\n\nvar parseSortItem = function parseSortItem(sortItem, apiRef) {\n  var column = apiRef.current.getColumn(sortItem.field);\n\n  if (!column) {\n    return null;\n  }\n\n  var comparator = isDesc(sortItem.sort) ? function () {\n    return -1 * column.sortComparator.apply(column, arguments);\n  } : column.sortComparator;\n\n  var getSortCellParams = function getSortCellParams(id) {\n    return {\n      id: id,\n      field: column.field,\n      rowNode: apiRef.current.getRowNode(id),\n      value: apiRef.current.getCellValue(id, column.field),\n      api: apiRef.current\n    };\n  };\n\n  return {\n    getSortCellParams: getSortCellParams,\n    comparator: comparator\n  };\n};\n/**\n * Compare two rows according to a list of valid sort items.\n * The `row1Params` and `row2Params` must have the same length as `parsedSortItems`,\n * and each of their index must contain the `GridSortCellParams` of the sort item with the same index.\n * @param {GridParsedSortItem[]} parsedSortItems All the sort items with which we want to compare the rows.\n * @param {GridRowAggregatedSortingParams} row1 The node and params of the 1st row for each sort item.\n * @param {GridRowAggregatedSortingParams} row2 The node and params of the 2nd row for each sort item.\n */\n\n\nvar compareRows = function compareRows(parsedSortItems, row1, row2) {\n  return parsedSortItems.reduce(function (res, item, index) {\n    if (res !== 0) {\n      // return the results of the first comparator which distinguish the two rows\n      return res;\n    }\n\n    var sortCellParams1 = row1.params[index];\n    var sortCellParams2 = row2.params[index];\n    res = item.comparator(sortCellParams1.value, sortCellParams2.value, sortCellParams1, sortCellParams2);\n    return res;\n  }, 0);\n};\n/**\n * Generates a method to easily sort a list of rows according to the current sort model.\n * @param {GridSortModel} sortModel The model with which we want to sort the rows.\n * @param {React.MutableRefObject<GridApiCommunity>} apiRef The API of the grid.\n * @returns {GridSortingModelApplier | null} A method that generates a list of sorted row ids from a list of rows according to the current sort model. If `null`, we consider that the rows should remain in the order there were provided.\n */\n\n\nexport var buildAggregatedSortingApplier = function buildAggregatedSortingApplier(sortModel, apiRef) {\n  var comparatorList = sortModel.map(function (item) {\n    return parseSortItem(item, apiRef);\n  }).filter(function (comparator) {\n    return !!comparator;\n  });\n\n  if (comparatorList.length === 0) {\n    return null;\n  }\n\n  return function (rowList) {\n    return rowList.map(function (node) {\n      return {\n        node: node,\n        params: comparatorList.map(function (el) {\n          return el.getSortCellParams(node.id);\n        })\n      };\n    }).sort(function (a, b) {\n      return compareRows(comparatorList, a, b);\n    }).map(function (row) {\n      return row.node.id;\n    });\n  };\n};\nexport var getNextGridSortDirection = function getNextGridSortDirection(sortingOrder, current) {\n  var currentIdx = sortingOrder.indexOf(current);\n\n  if (!current || currentIdx === -1 || currentIdx + 1 === sortingOrder.length) {\n    return sortingOrder[0];\n  }\n\n  return sortingOrder[currentIdx + 1];\n};\n\nvar gridNillComparator = function gridNillComparator(v1, v2) {\n  if (v1 == null && v2 != null) {\n    return -1;\n  }\n\n  if (v2 == null && v1 != null) {\n    return 1;\n  }\n\n  if (v1 == null && v2 == null) {\n    return 0;\n  }\n\n  return null;\n};\n\nvar collator = new Intl.Collator();\nexport var gridStringOrNumberComparator = function gridStringOrNumberComparator(value1, value2) {\n  var nillResult = gridNillComparator(value1, value2);\n\n  if (nillResult !== null) {\n    return nillResult;\n  }\n\n  if (typeof value1 === 'string') {\n    return collator.compare(value1.toString(), value2.toString());\n  }\n\n  return value1 - value2;\n};\nexport var gridNumberComparator = function gridNumberComparator(value1, value2) {\n  var nillResult = gridNillComparator(value1, value2);\n\n  if (nillResult !== null) {\n    return nillResult;\n  }\n\n  return Number(value1) - Number(value2);\n};\nexport var gridDateComparator = function gridDateComparator(value1, value2) {\n  var nillResult = gridNillComparator(value1, value2);\n\n  if (nillResult !== null) {\n    return nillResult;\n  }\n\n  if (value1 > value2) {\n    return 1;\n  }\n\n  if (value1 < value2) {\n    return -1;\n  }\n\n  return 0;\n};","map":{"version":3,"names":["_extends","buildWarning","sortModelDisableMultiColumnsSortingWarning","sanitizeSortModel","model","disableMultipleColumnsSorting","length","mergeStateWithSortModel","sortModel","state","sorting","isDesc","direction","parseSortItem","sortItem","apiRef","column","current","getColumn","field","comparator","sort","sortComparator","getSortCellParams","id","rowNode","getRowNode","value","getCellValue","api","compareRows","parsedSortItems","row1","row2","reduce","res","item","index","sortCellParams1","params","sortCellParams2","buildAggregatedSortingApplier","comparatorList","map","filter","rowList","node","el","a","b","row","getNextGridSortDirection","sortingOrder","currentIdx","indexOf","gridNillComparator","v1","v2","collator","Intl","Collator","gridStringOrNumberComparator","value1","value2","nillResult","compare","toString","gridNumberComparator","Number","gridDateComparator"],"sources":["C:/Users/luluf/OneDrive/Documents/Proximety/api-documentation-ui/node_modules/@mui/x-data-grid/hooks/features/sorting/gridSortingUtils.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { buildWarning } from '../../../utils/warning';\nconst sortModelDisableMultiColumnsSortingWarning = buildWarning(['MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.', 'If you are using the community version of the `DataGrid`, this prop is always `true`.'], 'error');\nexport const sanitizeSortModel = (model, disableMultipleColumnsSorting) => {\n  if (disableMultipleColumnsSorting && model.length > 1) {\n    sortModelDisableMultiColumnsSortingWarning();\n    return [model[0]];\n  }\n\n  return model;\n};\nexport const mergeStateWithSortModel = (sortModel, disableMultipleColumnsSorting) => state => _extends({}, state, {\n  sorting: _extends({}, state.sorting, {\n    sortModel: sanitizeSortModel(sortModel, disableMultipleColumnsSorting)\n  })\n});\n\nconst isDesc = direction => direction === 'desc';\n/**\n * Transform an item of the sorting model into a method comparing two rows.\n * @param {GridSortItem} sortItem The sort item we want to apply.\n * @param {React.MutableRefObject<GridApiCommunity>} apiRef The API of the grid.\n * @returns {GridParsedSortItem | null} The parsed sort item. Returns `null` is the sort item is not valid.\n */\n\n\nconst parseSortItem = (sortItem, apiRef) => {\n  const column = apiRef.current.getColumn(sortItem.field);\n\n  if (!column) {\n    return null;\n  }\n\n  const comparator = isDesc(sortItem.sort) ? (...args) => -1 * column.sortComparator(...args) : column.sortComparator;\n\n  const getSortCellParams = id => ({\n    id,\n    field: column.field,\n    rowNode: apiRef.current.getRowNode(id),\n    value: apiRef.current.getCellValue(id, column.field),\n    api: apiRef.current\n  });\n\n  return {\n    getSortCellParams,\n    comparator\n  };\n};\n\n/**\n * Compare two rows according to a list of valid sort items.\n * The `row1Params` and `row2Params` must have the same length as `parsedSortItems`,\n * and each of their index must contain the `GridSortCellParams` of the sort item with the same index.\n * @param {GridParsedSortItem[]} parsedSortItems All the sort items with which we want to compare the rows.\n * @param {GridRowAggregatedSortingParams} row1 The node and params of the 1st row for each sort item.\n * @param {GridRowAggregatedSortingParams} row2 The node and params of the 2nd row for each sort item.\n */\nconst compareRows = (parsedSortItems, row1, row2) => {\n  return parsedSortItems.reduce((res, item, index) => {\n    if (res !== 0) {\n      // return the results of the first comparator which distinguish the two rows\n      return res;\n    }\n\n    const sortCellParams1 = row1.params[index];\n    const sortCellParams2 = row2.params[index];\n    res = item.comparator(sortCellParams1.value, sortCellParams2.value, sortCellParams1, sortCellParams2);\n    return res;\n  }, 0);\n};\n/**\n * Generates a method to easily sort a list of rows according to the current sort model.\n * @param {GridSortModel} sortModel The model with which we want to sort the rows.\n * @param {React.MutableRefObject<GridApiCommunity>} apiRef The API of the grid.\n * @returns {GridSortingModelApplier | null} A method that generates a list of sorted row ids from a list of rows according to the current sort model. If `null`, we consider that the rows should remain in the order there were provided.\n */\n\n\nexport const buildAggregatedSortingApplier = (sortModel, apiRef) => {\n  const comparatorList = sortModel.map(item => parseSortItem(item, apiRef)).filter(comparator => !!comparator);\n\n  if (comparatorList.length === 0) {\n    return null;\n  }\n\n  return rowList => rowList.map(node => ({\n    node,\n    params: comparatorList.map(el => el.getSortCellParams(node.id))\n  })).sort((a, b) => compareRows(comparatorList, a, b)).map(row => row.node.id);\n};\nexport const getNextGridSortDirection = (sortingOrder, current) => {\n  const currentIdx = sortingOrder.indexOf(current);\n\n  if (!current || currentIdx === -1 || currentIdx + 1 === sortingOrder.length) {\n    return sortingOrder[0];\n  }\n\n  return sortingOrder[currentIdx + 1];\n};\n\nconst gridNillComparator = (v1, v2) => {\n  if (v1 == null && v2 != null) {\n    return -1;\n  }\n\n  if (v2 == null && v1 != null) {\n    return 1;\n  }\n\n  if (v1 == null && v2 == null) {\n    return 0;\n  }\n\n  return null;\n};\n\nconst collator = new Intl.Collator();\nexport const gridStringOrNumberComparator = (value1, value2) => {\n  const nillResult = gridNillComparator(value1, value2);\n\n  if (nillResult !== null) {\n    return nillResult;\n  }\n\n  if (typeof value1 === 'string') {\n    return collator.compare(value1.toString(), value2.toString());\n  }\n\n  return value1 - value2;\n};\nexport const gridNumberComparator = (value1, value2) => {\n  const nillResult = gridNillComparator(value1, value2);\n\n  if (nillResult !== null) {\n    return nillResult;\n  }\n\n  return Number(value1) - Number(value2);\n};\nexport const gridDateComparator = (value1, value2) => {\n  const nillResult = gridNillComparator(value1, value2);\n\n  if (nillResult !== null) {\n    return nillResult;\n  }\n\n  if (value1 > value2) {\n    return 1;\n  }\n\n  if (value1 < value2) {\n    return -1;\n  }\n\n  return 0;\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}