{"ast":null,"code":"import * as React from 'react';\nimport { useGridApiMethod } from '../../utils/useGridApiMethod';\nimport { useGridApiEventHandler } from '../../utils/useGridApiEventHandler';\n/**\n * @requires useGridColumns (method, event)\n * @requires useGridParamsApi (method)\n */\n\nexport var useGridColumnSpanning = function useGridColumnSpanning(apiRef) {\n  var lookup = React.useRef({});\n  var setCellColSpanInfo = React.useCallback(function (rowId, columnIndex, cellColSpanInfo) {\n    var sizes = lookup.current;\n\n    if (!sizes[rowId]) {\n      sizes[rowId] = {};\n    }\n\n    sizes[rowId][columnIndex] = cellColSpanInfo;\n  }, []);\n  var getCellColSpanInfo = React.useCallback(function (rowId, columnIndex) {\n    var _lookup$current$rowId;\n\n    return (_lookup$current$rowId = lookup.current[rowId]) == null ? void 0 : _lookup$current$rowId[columnIndex];\n  }, []); // Calculate `colSpan` for the cell.\n\n  var calculateCellColSpan = React.useCallback(function (params) {\n    var columnIndex = params.columnIndex,\n        rowId = params.rowId,\n        minFirstColumnIndex = params.minFirstColumnIndex,\n        maxLastColumnIndex = params.maxLastColumnIndex,\n        columns = params.columns;\n    var columnsLength = columns.length;\n    var column = columns[columnIndex];\n    var colSpan = typeof column.colSpan === 'function' ? column.colSpan(apiRef.current.getCellParams(rowId, column.field)) : column.colSpan;\n\n    if (!colSpan || colSpan === 1) {\n      setCellColSpanInfo(rowId, columnIndex, {\n        spannedByColSpan: false,\n        cellProps: {\n          colSpan: 1,\n          width: column.computedWidth\n        }\n      });\n      return {\n        colSpan: 1\n      };\n    }\n\n    var width = column.computedWidth;\n\n    for (var j = 1; j < colSpan; j += 1) {\n      var nextColumnIndex = columnIndex + j; // Cells should be spanned only within their column section (left-pinned, right-pinned and unpinned).\n\n      if (nextColumnIndex >= minFirstColumnIndex && nextColumnIndex < maxLastColumnIndex) {\n        var nextColumn = columns[nextColumnIndex];\n        width += nextColumn.computedWidth;\n        setCellColSpanInfo(rowId, columnIndex + j, {\n          spannedByColSpan: true,\n          rightVisibleCellIndex: Math.min(columnIndex + colSpan, columnsLength - 1),\n          leftVisibleCellIndex: columnIndex\n        });\n      }\n\n      setCellColSpanInfo(rowId, columnIndex, {\n        spannedByColSpan: false,\n        cellProps: {\n          colSpan: colSpan,\n          width: width\n        }\n      });\n    }\n\n    return {\n      colSpan: colSpan\n    };\n  }, [apiRef, setCellColSpanInfo]); // Calculate `colSpan` for each cell in the row\n\n  var calculateColSpan = React.useCallback(function (_ref) {\n    var rowId = _ref.rowId,\n        minFirstColumn = _ref.minFirstColumn,\n        maxLastColumn = _ref.maxLastColumn,\n        columns = _ref.columns;\n\n    for (var i = minFirstColumn; i < maxLastColumn; i += 1) {\n      var cellProps = calculateCellColSpan({\n        columnIndex: i,\n        rowId: rowId,\n        minFirstColumnIndex: minFirstColumn,\n        maxLastColumnIndex: maxLastColumn,\n        columns: columns\n      });\n\n      if (cellProps.colSpan > 1) {\n        i += cellProps.colSpan - 1;\n      }\n    }\n  }, [calculateCellColSpan]);\n  var columnSpanningApi = {\n    unstable_getCellColSpanInfo: getCellColSpanInfo,\n    unstable_calculateColSpan: calculateColSpan\n  };\n  useGridApiMethod(apiRef, columnSpanningApi, 'GridColumnSpanningAPI');\n  var handleColumnReorderChange = React.useCallback(function () {\n    // `colSpan` needs to be recalculated after column reordering\n    lookup.current = {};\n  }, []);\n  useGridApiEventHandler(apiRef, 'columnOrderChange', handleColumnReorderChange);\n};","map":{"version":3,"names":["React","useGridApiMethod","useGridApiEventHandler","useGridColumnSpanning","apiRef","lookup","useRef","setCellColSpanInfo","useCallback","rowId","columnIndex","cellColSpanInfo","sizes","current","getCellColSpanInfo","_lookup$current$rowId","calculateCellColSpan","params","minFirstColumnIndex","maxLastColumnIndex","columns","columnsLength","length","column","colSpan","getCellParams","field","spannedByColSpan","cellProps","width","computedWidth","j","nextColumnIndex","nextColumn","rightVisibleCellIndex","Math","min","leftVisibleCellIndex","calculateColSpan","minFirstColumn","maxLastColumn","i","columnSpanningApi","unstable_getCellColSpanInfo","unstable_calculateColSpan","handleColumnReorderChange"],"sources":["C:/Users/luluf/OneDrive/Documents/Proximety/api-documentation-ui/node_modules/@mui/x-data-grid/hooks/features/columns/useGridColumnSpanning.js"],"sourcesContent":["import * as React from 'react';\nimport { useGridApiMethod } from '../../utils/useGridApiMethod';\nimport { useGridApiEventHandler } from '../../utils/useGridApiEventHandler';\n\n/**\n * @requires useGridColumns (method, event)\n * @requires useGridParamsApi (method)\n */\nexport const useGridColumnSpanning = apiRef => {\n  const lookup = React.useRef({});\n  const setCellColSpanInfo = React.useCallback((rowId, columnIndex, cellColSpanInfo) => {\n    const sizes = lookup.current;\n\n    if (!sizes[rowId]) {\n      sizes[rowId] = {};\n    }\n\n    sizes[rowId][columnIndex] = cellColSpanInfo;\n  }, []);\n  const getCellColSpanInfo = React.useCallback((rowId, columnIndex) => {\n    var _lookup$current$rowId;\n\n    return (_lookup$current$rowId = lookup.current[rowId]) == null ? void 0 : _lookup$current$rowId[columnIndex];\n  }, []); // Calculate `colSpan` for the cell.\n\n  const calculateCellColSpan = React.useCallback(params => {\n    const {\n      columnIndex,\n      rowId,\n      minFirstColumnIndex,\n      maxLastColumnIndex,\n      columns\n    } = params;\n    const columnsLength = columns.length;\n    const column = columns[columnIndex];\n    const colSpan = typeof column.colSpan === 'function' ? column.colSpan(apiRef.current.getCellParams(rowId, column.field)) : column.colSpan;\n\n    if (!colSpan || colSpan === 1) {\n      setCellColSpanInfo(rowId, columnIndex, {\n        spannedByColSpan: false,\n        cellProps: {\n          colSpan: 1,\n          width: column.computedWidth\n        }\n      });\n      return {\n        colSpan: 1\n      };\n    }\n\n    let width = column.computedWidth;\n\n    for (let j = 1; j < colSpan; j += 1) {\n      const nextColumnIndex = columnIndex + j; // Cells should be spanned only within their column section (left-pinned, right-pinned and unpinned).\n\n      if (nextColumnIndex >= minFirstColumnIndex && nextColumnIndex < maxLastColumnIndex) {\n        const nextColumn = columns[nextColumnIndex];\n        width += nextColumn.computedWidth;\n        setCellColSpanInfo(rowId, columnIndex + j, {\n          spannedByColSpan: true,\n          rightVisibleCellIndex: Math.min(columnIndex + colSpan, columnsLength - 1),\n          leftVisibleCellIndex: columnIndex\n        });\n      }\n\n      setCellColSpanInfo(rowId, columnIndex, {\n        spannedByColSpan: false,\n        cellProps: {\n          colSpan,\n          width\n        }\n      });\n    }\n\n    return {\n      colSpan\n    };\n  }, [apiRef, setCellColSpanInfo]); // Calculate `colSpan` for each cell in the row\n\n  const calculateColSpan = React.useCallback(({\n    rowId,\n    minFirstColumn,\n    maxLastColumn,\n    columns\n  }) => {\n    for (let i = minFirstColumn; i < maxLastColumn; i += 1) {\n      const cellProps = calculateCellColSpan({\n        columnIndex: i,\n        rowId,\n        minFirstColumnIndex: minFirstColumn,\n        maxLastColumnIndex: maxLastColumn,\n        columns\n      });\n\n      if (cellProps.colSpan > 1) {\n        i += cellProps.colSpan - 1;\n      }\n    }\n  }, [calculateCellColSpan]);\n  const columnSpanningApi = {\n    unstable_getCellColSpanInfo: getCellColSpanInfo,\n    unstable_calculateColSpan: calculateColSpan\n  };\n  useGridApiMethod(apiRef, columnSpanningApi, 'GridColumnSpanningAPI');\n  const handleColumnReorderChange = React.useCallback(() => {\n    // `colSpan` needs to be recalculated after column reordering\n    lookup.current = {};\n  }, []);\n  useGridApiEventHandler(apiRef, 'columnOrderChange', handleColumnReorderChange);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}